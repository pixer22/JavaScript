/* jshint multistr: true */
!function(e){if("function"==typeof define&&define.amd,1)if("object"==typeof exports,1){var t=window.bgcCookies,n=window.bgcCookies=e()
n.noConflict=function(){return window.bgcCookies=t,n}}else module.exports=e()
else define(e)}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e]
for(var i in n)t[i]=n[i]}return t}function t(n){function i(t,s,o){var a
if("undefined"!=typeof document){if(arguments.length>1){if(o=e({path:"/"},i.defaults,o),"number"==typeof o.expires){var l=new Date
l.setMilliseconds(l.getMilliseconds()+864e5*o.expires),o.expires=l}try{a=JSON.stringify(s),/^[\{\[]/.test(a)&&(s=a)}catch(e){}return s=n.write?n.write(s,t):encodeURIComponent(String(s)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape),document.cookie=[t,"=",s,o.expires?"; expires="+o.expires.toUTCString():"",o.path?"; path="+o.path:"",o.domain?"; domain="+o.domain:"",o.secure?"; secure":""].join("")}t||(a={})
for(var c=document.cookie?document.cookie.split("; "):[],r=/(%[0-9A-Z]{2})+/g,d=0;d<c.length;d++){var g=c[d].split("="),p=g.slice(1).join("=")
'"'===p.charAt(0)&&(p=p.slice(1,-1))
try{var u=g[0].replace(r,decodeURIComponent)
if(p=n.read?n.read(p,u):n(p,u)||p.replace(r,decodeURIComponent),this.json)try{p=JSON.parse(p)}catch(e){}if(t===u){a=p
break}t||(a[u]=p)}catch(e){}}return a}}return i.set=i,i.get=function(e){return i(e)},i.getJSON=function(){return i.apply({json:!0},[].slice.call(arguments))},i.defaults={},i.remove=function(t,n){i(t,"",e(n,{expires:-1}))},i.withConverter=t,i}return t(function(){})}),function(e,t,n){function s(e,t,n){e="object"==typeof e?e:{},e.url=e.url||window.location.toString(),e.type="POST"===e.type?e.type:"GET",e.timeout=1e3*(e.timeout>0?parseInt(e.timeout):5),e.async=e.async!==!1||e.async,e.headers="object"==typeof e.headers?e.headers:{},e.dataType=["json","text"].indexOf(e.dataType)!==-1?e.dataType:"text"
var i,s=o(),a=null
if("object"==typeof e.data){var l=binotelJqMini.param(e.data)
"GET"===e.type&&""!==l?e.url=(e.url+"&"+l).replace(/[&?]{1,2}/,"?"):"POST"===e.type&&""!==l&&(e.headers["Content-Type"]||(e.headers["Content-Type"]="application/x-www-form-urlencoded"),a=l)}s.onreadystatechange=function(){if(4==s.readyState)if(clearTimeout(i),200==s.status)if("json"==e.dataType)try{t(JSON.parse(s.responseText))}catch(e){n(s,"parsererror")}else"text"==e.dataType&&t(s.responseText)
else n(s,s.statusText)},s.open(e.type,e.url,e.async)
for(headerName in e.headers)s.setRequestHeader(headerName,e.headers[headerName])
e.timeout>0&&(i=setTimeout(function(){s.onreadystatechange=function(){},s.abort(),n(s,"timeout")},e.timeout)),s.send(a)}function o(){try{return new XMLHttpRequest}catch(e){}try{return new ActiveXObject("Msxml3.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}return null}!function(e){"use strict"
var t=-1,n={onVisible:function(e){var t=n.isSupported()
if(!t||!n.hidden())return e(),t
var i=n.change(function(t,s){n.hidden()||(n.unbind(i),e())})
return i},change:function(e){if(!n.isSupported())return!1
t+=1
var i=t
return n._callbacks[i]=e,n._listen(),i},unbind:function(e){delete n._callbacks[e]},afterPrerendering:function(e){var t=n.isSupported(),i="prerender"
if(!t||i!=n.state())return e(),t
var s=n.change(function(t,o){i!=o&&(n.unbind(s),e())})
return s},hidden:function(){return!(!n._doc.hidden&&!n._doc.webkitHidden)},state:function(){return n._doc.visibilityState||n._doc.webkitVisibilityState||"visible"},isSupported:function(){return!(!n._doc.visibilityState&&!n._doc.webkitVisibilityState)},_doc:document||{},_callbacks:{},_change:function(e){var t=n.state()
for(var i in n._callbacks)n._callbacks[i].call(n._doc,e,t)},_listen:function(){if(!n._init){var e="visibilitychange"
n._doc.webkitVisibilityState&&(e="webkit"+e)
var t=function(){n._change.apply(n,arguments)}
n._doc.addEventListener?n._doc.addEventListener(e,t):n._doc.attachEvent(e,t),n._init=!0}}}
"undefined"!=typeof module&&module.exports,e.bgcVisibility=n}(this),function(e){"use strict"
var t=-1,n=function(n){return n.every=function(e,i,s){n._time(),s||(s=i,i=null),t+=1
var o=t
return n._timers[o]={visible:e,hidden:i,callback:s},n._run(o,!1),n.isSupported()&&n._listen(),o},n.stop=function(e){return!!n._timers[e]&&(n._stop(e),delete n._timers[e],!0)},n._timers={},n._time=function(){n._timed||(n._timed=!0,n._wasHidden=n.hidden(),n.change(function(){n._stopRun(),n._wasHidden=n.hidden()}))},n._run=function(t,i){var s,o=n._timers[t]
if(n.hidden()){if(null===o.hidden)return
s=o.hidden}else s=o.visible
var a=function(){o.last=new Date,o.callback.call(e)}
if(i){var l=new Date,c=l-o.last
s>c?o.delay=setTimeout(function(){a(),o.id=setInterval(a,s)},s-c):(a(),o.id=setInterval(a,s))}else o.id=setInterval(a,s)},n._stop=function(e){var t=n._timers[e]
clearInterval(t.id),clearTimeout(t.delay),delete t.id,delete t.delay},n._stopRun=function(e){var t=n.hidden(),i=n._wasHidden
if(t&&!i||!t&&i)for(var s in n._timers)n._stop(s),n._run(s,!t)},n}
"undefined"!=typeof module&&module.exports,n(e.bgcVisibility)}(window),!function(e){function t(){var e=arguments[0],n=t.cache
return n[e]&&n.hasOwnProperty(e)||(n[e]=t.parse(e)),t.format.call(null,n[e],arguments)}function n(e){return"number"==typeof e?"number":"string"==typeof e?"string":Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function i(e,t){return t>=0&&7>=t&&a[e]?a[e][t]:Array(t+1).join(e)}var s={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/bcdiefguxX/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/}
t.format=function(e,o){var a,l,c,r,d,g,p,u=1,v=e.length,m="",h=[],b=!0,f=""
for(l=0;v>l;l++)if(m=n(e[l]),"string"===m)h[h.length]=e[l]
else if("array"===m){if(r=e[l],r[2])for(a=o[u],c=0;c<r[2].length;c++){if(!a.hasOwnProperty(r[2][c]))throw new Error(t('[sprintf] property "%s" does not exist',r[2][c]))
a=a[r[2][c]]}else a=r[1]?o[r[1]]:o[u++]
if(s.not_type.test(r[8])&&s.not_primitive.test(r[8])&&"function"==n(a)&&(a=a()),s.numeric_arg.test(r[8])&&"number"!=n(a)&&isNaN(a))throw new TypeError(t("[sprintf] expecting number but found %s",n(a)))
switch(s.number.test(r[8])&&(b=a>=0),r[8]){case"b":a=parseInt(a,10).toString(2)
break
case"c":a=String.fromCharCode(parseInt(a,10))
break
case"d":case"i":a=parseInt(a,10)
break
case"j":a=JSON.stringify(a,null,r[6]?parseInt(r[6]):0)
break
case"e":a=r[7]?parseFloat(a).toExponential(r[7]):parseFloat(a).toExponential()
break
case"f":a=r[7]?parseFloat(a).toFixed(r[7]):parseFloat(a)
break
case"g":a=r[7]?parseFloat(a).toPrecision(r[7]):parseFloat(a)
break
case"o":a=a.toString(8)
break
case"s":a=String(a),a=r[7]?a.substring(0,r[7]):a
break
case"t":a=String(!!a),a=r[7]?a.substring(0,r[7]):a
break
case"T":a=n(a),a=r[7]?a.substring(0,r[7]):a
break
case"u":a=parseInt(a,10)>>>0
break
case"v":a=a.valueOf(),a=r[7]?a.substring(0,r[7]):a
break
case"x":a=parseInt(a,10).toString(16)
break
case"X":a=parseInt(a,10).toString(16).toUpperCase()}s.json.test(r[8])?h[h.length]=a:(!s.number.test(r[8])||b&&!r[3]?f="":(f=b?"+":"-",a=a.toString().replace(s.sign,"")),g=r[4]?"0"===r[4]?"0":r[4].charAt(1):" ",p=r[6]-(f+a).length,d=r[6]&&p>0?i(g,p):"",h[h.length]=r[5]?f+a+d:"0"===g?f+d+a:d+f+a)}return h.join("")},t.cache={},t.parse=function(e){for(var t=e,n=[],i=[],o=0;t;){if(null!==(n=s.text.exec(t)))i[i.length]=n[0]
else if(null!==(n=s.modulo.exec(t)))i[i.length]="%"
else{if(null===(n=s.placeholder.exec(t)))throw new SyntaxError("[sprintf] unexpected placeholder")
if(n[2]){o|=1
var a=[],l=n[2],c=[]
if(null===(c=s.key.exec(l)))throw new SyntaxError("[sprintf] failed to parse named argument key")
for(a[a.length]=c[1];""!==(l=l.substring(c[0].length));)if(null!==(c=s.key_access.exec(l)))a[a.length]=c[1]
else{if(null===(c=s.index_access.exec(l)))throw new SyntaxError("[sprintf] failed to parse named argument key")
a[a.length]=c[1]}n[2]=a}else o|=2
if(3===o)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported")
i[i.length]=n}t=t.substring(n[0].length)}return i}
var o=function(e,n,i){return i=(n||[]).slice(0),i.splice(0,0,e),t.apply(null,i)},a={0:["","0","00","000","0000","00000","000000","0000000"]," ":[""," ","  ","   ","    ","     ","      ","       "],_:["","_","__","___","____","_____","______","_______"]}
"undefined"!=typeof exports,e.sprintf=t,e.vsprintf=o,"function"==typeof define&&define.amd&&!1&&define(function(){return{sprintf:t,vsprintf:o}})}("undefined"==typeof window?this:window)
var a=t.BinotelGetCall
if(console.log("Binotel Get Call in processing!!! Widget initiator is %s",a.widgetId),t.BinotelGetCallSettings&&t.BinotelGetCallSettings.language&&(t.BinotelGetCall.language=t.BinotelGetCallSettings.language),a.customI18nDictionary)try{a.customI18nDictionary=JSON.parse(a.customI18nDictionary)}catch(e){console.log(e)}var l
setTimeout(function(){l=new c,l.init(),a.openPassiveForm=l.openPassiveForm},100)
var c=function(){var n={helpers:{},countdownTimerIntervalLink:null,timerForShowAndHideTooltip:null,cookies:t.bgcCookies.noConflict(),activityData:{pageviews:1,callWasMade:0,onPage:0,activeFormAdder:0,phoneButtonTooltipTimeoutOnFirstDisplay:65,phoneButtonTooltipTimeoutOnSecondDisplay:0,phoneButtonTooltipTimeoutAdderOnSecondDisplay:115,phoneButtonTooltipStage:0,phoneButtonTooltipDisplayingTime:0,phoneButtonTooltipAdder:0},timers:{rotatePhoneButtonTimer:null},workingDays:[]}
return this.init=function(){n.helpers.init(),setInterval(function(){n.helpers.setClientSideTimeOffset(!0)},18e5)},this.openPassiveForm=function(e,t){n.helpers.openPassiveForm(e,t)},n.helpers.init=function(){var t=n.helpers.getModeOfWorkingHours(),i=e.createElement("div")
i.className="bingc-passive bingc-passive-closed bingc-language-"+a.language,i.id="bingc-passive",i.innerHTML=' \t\t\t\t<div class="bingc-passive-overlay"> \t\t\t\t\t<a class="bingc-passive-close-button" id="bingc-passive-close-button" href="javascript:void(0);"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><polygon fill="#FFFFFF" points="24,0.993 22.985,-0.024 12,10.983 1.015,-0.024 0,0.993 10.985,12 0,23.008 1.015,24.023 12,13.017 22.985,24.023 24,23.008 13.015,12 "/></svg></a> \t\t\t\t\t<div class="bingc-passive-content" id="bingc-passive-content"></div> \t\t\t\t\t<a href="http://www.binotel.ua/getcall?utm_source='+a.domain+'&utm_medium=client_getcall&utm_campaign=client_getcall_passive_overlay" target="_blank" class="bingc-powered-by"><span class="bingc-powered-by-text">'+n.helpers.i18n("Виртуальная АТС")+'</span></a> \t\t\t\t</div> \t\t\t\t<div class="bingc-passive-background" id="bingc-passive-background"></div> \t\t\t\t\t\t\t\t\t'
var s=e.createElement("div")
s.className="bingc-active bingc-active-closed bingc-language-"+a.language,s.id="bingc-active",s.innerHTML=' \t\t\t\t<div class="bingc-active-overlay"> \t\t\t\t\t<div class="bingc-active-content" id="bingc-active-content"></div> \t\t\t\t</div> \t\t\t\t<a class="bingc-active-close-button" id="bingc-active-close-button" href="javascript:void(0);"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve"><polygon points="24,0.993 22.985,-0.024 12,10.983 1.015,-0.024 0,0.993 10.985,12 0,23.008 1.015,24.023 12,13.017 22.985,24.023 24,23.008 13.015,12 "/></svg></a> \t\t\t\t<a href="http://www.binotel.ua/getcall?utm_source='+a.domain+'&utm_medium=client_getcall&utm_campaign=client_getcall_active_overlay" target="_blank" class="bingc-powered-by"><span class="bingc-powered-by-text">'+n.helpers.i18n("Виртуальная АТС")+"</span></a> \t\t\t\t\t\t\t\t\t"
var o=e.createElement("a")
o.className="bingc-phone-button bingc-language-"+a.language,o.id="bingc-phone-button",o.style[a.phoneButtonPositionInVertical.property]=a.phoneButtonPositionInVertical.value+"%",o.style[a.phoneButtonPositionInHorizontal.property]=a.phoneButtonPositionInHorizontal.value+"%",1===a.phoneButtonDisplay&&o.classList.add("bingc-show")
var l
"alwaysOnline"===t?l=sprintf(n.helpers.i18n("Хотите, перезвоним Вам<br>за %s секунд?"),a.countdownTimerForCall):"alwaysOffline"===t&&(l=n.helpers.i18n("Хотите, перезвоним Вам<br>в удобное время?"))
var c
"top"===a.phoneButtonPositionInVertical.property&&"left"===a.phoneButtonPositionInHorizontal.property?c='\t\t\t\t\t<div id="bingc-phone-button-tooltip" class="bingc-phone-button-tooltip bingc-phone-button-tooltip-top-left"> \t\t\t\t\t\t'+l+' \t\t\t\t\t\t<svg version="1.1" class="bingc-phone-button-arrow" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="18px" height="14px" viewBox="0 0 18 14" enable-background="new 0 0 18 14" xml:space="preserve"><polyline fill="#B3B3B3" points="0,14 18,14 0,0 "/></svg> \t\t\t\t\t</div> \t\t\t\t':"top"===a.phoneButtonPositionInVertical.property&&"right"===a.phoneButtonPositionInHorizontal.property?c='\t\t\t\t\t<div id="bingc-phone-button-tooltip" class="bingc-phone-button-tooltip bingc-phone-button-tooltip-top-right"> \t\t\t\t\t\t'+l+' \t\t\t\t\t\t<svg version="1.1" class="bingc-phone-button-arrow" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="18px" height="14px" viewBox="0 0 18 14" enable-background="new 0 0 18 14" xml:space="preserve"><polyline fill="#B3B3B3" points="17.977,14 0,14 17.977,0 "/></svg> \t\t\t\t\t</div> \t\t\t\t':"bottom"===a.phoneButtonPositionInVertical.property&&"left"===a.phoneButtonPositionInHorizontal.property?c='\t\t\t\t\t<div id="bingc-phone-button-tooltip" class="bingc-phone-button-tooltip bingc-phone-button-tooltip-bottom-left"> \t\t\t\t\t\t'+l+' \t\t\t\t\t\t<svg version="1.1" class="bingc-phone-button-arrow" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="18px" height="14px" viewBox="0 0 18 14" enable-background="new 0 0 18 14" xml:space="preserve"><polyline fill="#B3B3B3" points="17.977,0 0.083,0 17.977,13.927 "/></svg> \t\t\t\t\t</div> \t\t\t\t':"bottom"===a.phoneButtonPositionInVertical.property&&"right"===a.phoneButtonPositionInHorizontal.property&&(c='\t\t\t\t\t<div id="bingc-phone-button-tooltip" class="bingc-phone-button-tooltip bingc-phone-button-tooltip-bottom-right"> \t\t\t\t\t\t'+l+' \t\t\t\t\t\t<svg version="1.1" class="bingc-phone-button-arrow" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="18px" height="14px" viewBox="0 0 18 14" enable-background="new 0 0 18 14" xml:space="preserve"><polyline fill="#B3B3B3" points="0,0 17.936,0 0,14.012 "/></svg> \t\t\t\t\t</div> \t\t\t\t'),o.innerHTML=c+' \t\t\t\t<svg class="bingc-phone-button-circle" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="99px" height="99px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve"><circle class="bingc-phone-button-circle-outside" cx="50" cy="50" r="50"/><circle class="bingc-phone-button-circle-inside" cx="50" cy="50" r="40"/></svg> \t\t\t\t<div id="bingc-phone-button-icon-text" class="bingc-phone-button-icon-text"><span>'+n.helpers.i18n("КНОПКА<br>СВЯЗИ")+'</span></div> \t\t\t\t<svg id="bingc-phone-button-icon-icon" class="bingc-phone-button-icon-icon bingc-phone-button-icon-show" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="17.544px" height="25.215px" viewBox="0 0 17.544 25.215" enable-background="new 0 0 17.544 25.215" xml:space="preserve"><path fill-rule="evenodd" clip-rule="evenodd" fill="#fff" d="M12.22,6.784c-0.135,0.871-1.654,4.073-2.084,4.89c-0.576,1.087-2.779,4.344-3.724,5.065l0,0l-0.775,0.532l-1.879-0.616L0,20.653l0.129,1.043l2.123,2.832l0.916,0.687c0,0,13.474-8.596,14.376-24.03c0,0-0.266-0.297-0.777-0.87L13.228,0l-1.16,0.454l-1.029,4.941l1.127,1.23"/></svg>',e.getElementsByTagName("body")[0].appendChild(i),e.getElementsByTagName("body")[0].appendChild(s),e.getElementsByTagName("body")[0].appendChild(o),e.getElementById("bingc-passive-background").addEventListener("click",function(){n.activityData.activeFormAdder=40,n.helpers.closePassiveForm()}),e.getElementById("bingc-passive-close-button").addEventListener("click",function(){n.activityData.activeFormAdder=40,n.helpers.closePassiveForm()}),e.getElementById("bingc-phone-button").addEventListener("click",function(){n.helpers.openPassiveForm(),clearTimeout(n.helpers.timerForShowAndHideTooltip),n.helpers.hidePhoneButtonTooltip()}),e.getElementById("bingc-phone-button").addEventListener("mouseenter",function(){n.helpers.showPhoneButtonTooltip()}),e.getElementById("bingc-phone-button").addEventListener("mouseleave",function(){n.helpers.hidePhoneButtonTooltip()}),e.getElementById("bingc-active-close-button").addEventListener("click",function(){n.activityData.phoneButtonTooltipAdder=60,n.helpers.closeActiveForm()}),setTimeout(function(){for(var t=e.getElementsByClassName("bingc-action-open-passive-form"),i=0;i<t.length;i++)t[i].addEventListener("click",function(e){n.helpers.isOpenedActiveForm()&&n.helpers.closeActiveForm()
try{n.helpers.openPassiveForm(this.getAttribute("data-getcall-title-in-working-hours"),this.getAttribute("data-getcall-description")),clearTimeout(n.helpers.timerForShowAndHideTooltip),n.helpers.hidePhoneButtonTooltip()}catch(e){}})},1e3)
var r=n.cookies.getJSON("bingc-activity-data")
r&&(n.activityData.pageviews=(parseInt(r.pageviews)||0)+1,n.activityData.callWasMade=parseInt(r.callWasMade)||0)
var d=3
bgcVisibility.every(1e3*d,function(){n.activityData.onPage+=d,1===a.phoneButtonDisplay&&(0!==n.activityData.phoneButtonTooltipAdder&&(n.activityData.phoneButtonTooltipAdder-=d,n.activityData.phoneButtonTooltipAdder=n.activityData.phoneButtonTooltipAdder>=0?n.activityData.phoneButtonTooltipAdder:0),n.activityData.phoneButtonTooltipDisplayingTime&&(n.activityData.phoneButtonTooltipDisplayingTime>=12?(n.activityData.phoneButtonTooltipDisplayingTime=0,n.helpers.hidePhoneButtonTooltip()):n.activityData.phoneButtonTooltipDisplayingTime+=d),0===n.activityData.phoneButtonTooltipAdder&&n.helpers.isOpenedPassiveForm()===!1&&n.helpers.isOpenedActiveForm()===!1&&(n.activityData.onPage>=n.activityData.phoneButtonTooltipTimeoutOnFirstDisplay&&0===n.activityData.phoneButtonTooltipStage?(n.activityData.phoneButtonTooltipDisplayingTime=1,n.activityData.phoneButtonTooltipStage=1,n.activityData.phoneButtonTooltipTimeoutOnSecondDisplay=n.activityData.onPage+n.activityData.phoneButtonTooltipTimeoutAdderOnSecondDisplay,n.helpers.showPhoneButtonTooltip()):n.activityData.onPage>=n.activityData.phoneButtonTooltipTimeoutOnSecondDisplay&&1===n.activityData.phoneButtonTooltipStage&&(n.activityData.phoneButtonTooltipDisplayingTime=1,n.activityData.phoneButtonTooltipStage=2,n.helpers.showPhoneButtonTooltip())))
var e=n.cookies.getJSON("bingc-activity-data")
if(e?(e.pageviews=n.activityData.pageviews,e.callWasMade=n.activityData.callWasMade,e.updatedAt=Math.floor(Date.now()/1e3)):e={numberOfImpressions:0,activeFormSinceLastDisplayed:0,pageviews:n.activityData.pageviews,callWasMade:n.activityData.callWasMade,updatedAt:Math.floor(Date.now()/1e3)},1===a.activeFormStatus&&0===e.callWasMade&&n.helpers.isOpenedPassiveForm()===!1&&n.helpers.isOpenedActiveForm()===!1){e.activeFormSinceLastDisplayed+=d,0!==n.activityData.activeFormAdder&&(n.activityData.activeFormAdder-=d,n.activityData.activeFormAdder=n.activityData.activeFormAdder>=0?n.activityData.activeFormAdder:0)
n.helpers.getModeOfWorkingHours()
0===n.activityData.activeFormAdder&&0===e.numberOfImpressions&&e.activeFormSinceLastDisplayed>=a.activeFormTimeoutOfFirstVisit&&(n.activityData.onPage>=a.activeFormTimeoutOnPageWithLowPageview||e.pageviews>=a.activeFormHighPageviewCount&&n.activityData.onPage>=a.activeFormTimeoutOnPageWithHighPageview)?(n.helpers.openActiveForm(),e.numberOfImpressions++,e.activeFormSinceLastDisplayed=0):0===n.activityData.activeFormAdder&&e.numberOfImpressions>0&&e.numberOfImpressions<a.activeFormMaxNumberOfImpressions&&e.activeFormSinceLastDisplayed>=a.activeFormTimeoutOfRepeatVisit&&(n.activityData.onPage>=a.activeFormTimeoutOnPageWithLowPageview||e.pageviews>=a.activeFormHighPageviewCount&&n.activityData.onPage>=a.activeFormTimeoutOnPageWithHighPageview)&&(n.helpers.openActiveForm(),e.numberOfImpressions++,e.activeFormSinceLastDisplayed=0)}n.cookies.set("bingc-activity-data",e,{expires:.5})}),n.helpers.setClientSideTimeOffset(),n.helpers.rotatePhoneButton()},n.helpers.openPassiveForm=function(i,o){n.helpers.sendEventToGa("Opened passive form","",void 0,!0)
var l={1:n.helpers.i18n("Понедельник"),2:n.helpers.i18n("Вторник"),3:n.helpers.i18n("Среда"),4:n.helpers.i18n("Четверг"),5:n.helpers.i18n("Пятница"),6:n.helpers.i18n("Суббота"),0:n.helpers.i18n("Воскресенье")},c=n.helpers.getModeOfWorkingHours()
if("alwaysOnline"===c){i||(i=sprintf(n.helpers.i18n("Хотите, перезвоним Вам за <b>%s</b> секунд?"),a.countdownTimerForCall))
var d=' \t\t\t\t\t<div class="bingc-we-will-call-you"><div class="bingc-we-will-call-you-alignment"><div class="bingc-we-will-call-you-restriction">'+i+'</div></div></div> \t\t\t\t\t<div class="bingc-passive-get-phone-form"> \t\t\t\t\t\t<form id="bingc-passive-get-phone-form" class="bingc-passive-get-phone-form"> \t\t\t\t\t\t\t<div class="bingc-passive-get-phone-form-input-border"></div> \t\t\t\t\t\t\t<input type="tel" id="bingc-passive-get-phone-form-input" class="bingc-passive-get-phone-form-input" placeholder="'+n.helpers.i18n("Ваш номер телефона")+'" value="'+a.externalNumberInputValue+'" autocomplete="off" onfocus="this.value = this.value;"><a href="javascript:void(0);" id="bingc-passive-phone-form-button" class="bingc-passive-phone-form-button">'+n.helpers.i18n("Перезвоните")+'</a><span class="bingc-sample-countdown-timer"><span>00:</span>'+(a.countdownTimerForCall-1)+'<span>:99</span></span> \t\t\t\t\t\t\t<input type="hidden" id="bingc-passive-get-phone-form-description" class="bingc-passive-get-phone-form-description" value="'+(o||"")+'"> \t\t\t\t\t\t</form> \t\t\t\t\t</div> \t\t\t\t\t<div id="bingc-phone-sample" class="bingc-phone-sample"><span>'+n.helpers.i18n("Например:")+" "+a.externalNumberExample+"</span></div> \t\t\t\t\t\t\t\t\t\t\t  "
1===a.statisticsDisplay&&(d+=' \t\t\t\t\t<div class="bingc-statistics">'+n.helpers.i18n("Свободных операторов на линии:")+" "+a.freeEmployees+"<br>"+n.helpers.i18n("Заказов звонков сегодня:")+" "+a.callsProcessedToday+"</div> \t\t\t\t\t\t\t\t\t\t\t   "),e.getElementById("bingc-passive-content").innerHTML=d,e.getElementById("bingc-passive-phone-form-button").addEventListener("click",function(i){var o=e.getElementById("bingc-passive-get-phone-form-input").value
if(o=o.toString().replace(/\D/g,""),n.helpers.isCorrectExternalNumber(o)){e.getElementById("bingc-passive-get-phone-form-input").classList.remove("warning")
var l,c
try{l=t.BinotelInformationAboutTheVisitor.getSessionData(),c=t.BinotelInformationAboutTheVisitor.getGoogleAnalyticsData()}catch(e){}s({type:"POST",url:a.backendHost+"/getcall/call/",data:{widgetID:a.widgetId,externalNumber:o,sessionId:a.sessionId,sessionData:l,description:e.getElementById("bingc-passive-get-phone-form-description").value,googleAnalyticsData:c},dataType:"json"},function(t){t&&"success"===t.status?(n.helpers.sendEventToGa("Call requested","Passive form"),n.activityData.callWasMade=1,e.getElementById("bingc-passive-content").innerHTML=' \t\t\t\t\t\t\t\t\t<div class="bingc-we-already-call-you">'+n.helpers.i18n("Заказ звонка принят. Мы Вам уже звоним!")+'</div> \t\t\t\t\t\t\t\t\t<div id="bingc-passive-countdown-timer" class="bingc-passive-countdown-timer">00:'+(a.countdownTimerForCall-1)+":99</div> \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  ",setTimeout(function(){var t,i,s,o=100*(a.countdownTimerForCall-1)+99
n.countdownTimerIntervalLink=setInterval(function(){o-=1,t=o.toString(),i=Math.floor(o/100),i<10&&(i="0"+i),s=t.slice(-2),s.length<2&&(s="0"+s),e.getElementById("bingc-passive-countdown-timer").innerHTML="00:"+i+":"+s,0===o&&clearInterval(n.countdownTimerIntervalLink)},10)},100)):e.getElementById("bingc-passive-content").innerHTML=' \t\t\t\t\t\t\t\t\t<div class="bingc-something-went-wrong">'+n.helpers.i18n("К сожалению, что-то пошло не так.<br>Пожалуйста, обновите страницу.")+"</div> \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  "},function(t,i){console.log(i,t),e.getElementById("bingc-passive-content").innerHTML=' \t\t\t\t\t\t\t\t<div class="bingc-something-went-wrong">'+n.helpers.i18n("К сожалению, что-то пошло не так.<br>Пожалуйста, обновите страницу.")+"</div> \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  "})}else e.getElementById("bingc-passive-get-phone-form-input").classList.add("warning"),e.getElementById("bingc-passive-get-phone-form-input").focus()})}else if("alwaysOffline"===c){n.workingDays=[]
for(var g=0;g<=9;g++){for(var p={},u=0;u<=23;u++)for(var v=0;v<=45;v+=15){var m=new Date(1e3*(Math.floor(Date.now()/1e3)+a.clientSideTimeOffset)),h=new Date(1e3*(Math.floor(Date.now()/1e3)+a.clientSideTimeOffset))
if(h.setHours(u),h.setMinutes(v),h.setSeconds(0),h.setDate(m.getDate()+g),!(0===g&&m.getHours()>=u)&&r.checkingTimeOnTimeline(a.rulesOfWorkingHours,Math.floor(h.getTime()/1e3))===!0){if("undefined"==typeof p.dayName){var b
b=0===g?n.helpers.i18n("Сегодня"):1===g?n.helpers.i18n("Завтра"):l[h.getDay()],p={dayName:b,workingHoursOrderedList:[],workingHours:{},addingDays:g}}var f=h.getHours().toString().length<=1?"0"+h.getHours():h.getHours().toString()
"undefined"==typeof p.workingHours[f]&&(p.workingHours[f]=[],p.workingHoursOrderedList.push(f)),p.workingHours[f].push(0===h.getMinutes()?"00":h.getMinutes())}}if("undefined"!=typeof p.dayName&&(n.workingDays.push(p),3===n.workingDays.length))break}var y="",w="",x=""
if(n.workingDays.length){y='<div id="bingc-passive-date-selection-select-day" class="bingc-passive-date-selection-select-day"><span id="bingc-passive-date-selection-selected-day" class="bingc-passive-date-selection-selected-day">'+n.workingDays[0].dayName+'</span><svg class="bingc-passive-date-selection-arrows" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="10px" height="14px" viewBox="0 0 10 14" enable-background="new 0 0 10 14" xml:space="preserve"><path fill-rule="evenodd" clip-rule="evenodd" d="M9.99,8.905L4.995,13.9L0,8.905"/></svg><input type="hidden" id="bingc-passive-date-selection-selected-day-index" value="0"><div id="bingc-passive-date-selection-select-day-list-of-days-container" class="bingc-passive-date-selection-select-day-list-of-days-container"><ul id="bingc-passive-date-selection-select-day-list-of-days" class="bingc-passive-date-selection-select-day-list-of-days">'
for(var g=0;g<n.workingDays.length;g++)y+='<li value="'+g+'">'+n.workingDays[g].dayName+"</li>"
y+="</ul></div></div>"
var B=Object.keys(n.workingDays[0].workingHours).length
if(w='<div id="bingc-passive-date-selection-select-hour" class="bingc-passive-date-selection-select-hour"><span id="bingc-passive-date-selection-selected-hour" class="bingc-passive-date-selection-selected-hour">'+n.workingDays[0].workingHoursOrderedList[0]+'</span><svg class="bingc-passive-date-selection-arrows" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="10px" height="14px" viewBox="0 0 10 14" enable-background="new 0 0 10 14" xml:space="preserve"><path fill-rule="evenodd" clip-rule="evenodd" d="M9.99,8.905L4.995,13.9L0,8.905"/><path fill-rule="evenodd" clip-rule="evenodd" d="M0,4.995L4.995,0L9.99,4.995"/></svg><div id="bingc-passive-date-selection-select-hour-list-of-hours-container" class="bingc-passive-date-selection-select-hour-list-of-hours-container '+(B>=10&&B<=18?"two-columns":B>=19?"three-columns":"")+'"><ul class="bingc-passive-date-selection-select-hour-list-of-hours '+(B<10?"only-one-column":"")+'">',B)for(var g=0;g<n.workingDays[0].workingHoursOrderedList.length;g++)9===g?w+='</ul><ul class="bingc-passive-date-selection-select-hour-list-of-hours second-column">':18===g&&(w+='</ul><ul class="bingc-passive-date-selection-select-hour-list-of-hours third-column">'),w+="<li>"+n.workingDays[0].workingHoursOrderedList[g]+"</li>"
if(w+="</ul></div></div>",B&&n.workingDays[0].workingHours[n.workingDays[0].workingHoursOrderedList[0]]){var k=n.workingDays[0].workingHours[n.workingDays[0].workingHoursOrderedList[0]]
x='<div id="bingc-passive-date-selection-select-minutes" class="bingc-passive-date-selection-select-minutes"><span id="bingc-passive-date-selection-selected-minutes" class="bingc-passive-date-selection-selected-minutes">'+k[0]+'</span><svg class="bingc-passive-date-selection-arrows" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="10px" height="14px" viewBox="0 0 10 14" enable-background="new 0 0 10 14" xml:space="preserve"><path fill-rule="evenodd" clip-rule="evenodd" d="M9.99,8.905L4.995,13.9L0,8.905"/><path fill-rule="evenodd" clip-rule="evenodd" d="M0,4.995L4.995,0L9.99,4.995"/></svg><div id="bingc-passive-date-selection-select-minutes-list-of-minutes-container" class="bingc-passive-date-selection-select-minutes-list-of-minutes-container"><ul class="bingc-passive-date-selection-select-minutes-list-of-minutes">'
for(var g=0;g<k.length;g++)x+="<li>"+k[g]+"</li>"
x+="</ul></div></div>"}}e.getElementById("bingc-passive-content").innerHTML=' \t\t\t\t\t<div class="bingc-we-will-call-you bingc-offline-form"><span class="small-text">'+n.helpers.i18n("К сожалению, сейчас у нас нерабочее время.")+"</span><br>"+n.helpers.i18n("Хотите, перезвоним Вам точно в:")+'</div> \t\t\t\t\t<div class="bingc-passive-get-phone-form"> \t\t\t\t\t\t<form id="bingc-passive-get-phone-form" class="bingc-passive-get-phone-form"> \t\t\t\t\t\t\t<div class="bingc-passive-get-phone-form-date-selection"> \t\t\t\t\t\t\t\t '+w+" \t\t\t\t\t\t\t\t"+x+" \t\t\t\t\t\t\t\t"+y+' \t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t<div class="bingc-passive-get-phone-form-input-border bingc-offline-form"></div> \t\t\t\t\t\t\t<input type="tel" id="bingc-passive-get-phone-form-input" class="bingc-passive-get-phone-form-input" placeholder="'+n.helpers.i18n("Ваш номер телефона")+'" value="'+a.externalNumberInputValue+'" autocomplete="off" onfocus="this.value = this.value;"><a href="javascript:void(0);" id="bingc-passive-phone-form-button" class="bingc-passive-phone-form-button">'+n.helpers.i18n("Жду звонка")+'</a> \t\t\t\t\t\t\t<input type="hidden" id="bingc-passive-get-phone-form-description" class="bingc-passive-get-phone-form-description" value="'+(o||"")+'"> \t\t\t\t\t\t</form> \t\t\t\t\t</div> \t\t\t\t\t<div id="bingc-phone-sample" class="bingc-phone-sample"><span>'+n.helpers.i18n("Например:")+" "+a.externalNumberExample+"</span></div> \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  "
var T
e.getElementById("bingc-passive-date-selection-select-day").addEventListener("mouseenter",function(){clearTimeout(T),this.classList.add("bingc-passive-date-selection-select-day-hover")}),e.getElementById("bingc-passive-date-selection-select-day").addEventListener("mouseleave",function(){clearTimeout(T)
var e=this
T=setTimeout(function(){e.classList.remove("bingc-passive-date-selection-select-day-hover")},100)})
var I
e.getElementById("bingc-passive-date-selection-select-hour").addEventListener("mouseenter",function(){clearTimeout(I),this.classList.add("bingc-passive-date-selection-select-hour-hover")}),e.getElementById("bingc-passive-date-selection-select-hour").addEventListener("mouseleave",function(){clearTimeout(I)
var e=this
I=setTimeout(function(){e.classList.remove("bingc-passive-date-selection-select-hour-hover")},100)})
var E
e.getElementById("bingc-passive-date-selection-select-minutes").addEventListener("mouseenter",function(){clearTimeout(E),this.classList.add("bingc-passive-date-selection-select-minutes-hover")}),e.getElementById("bingc-passive-date-selection-select-minutes").addEventListener("mouseleave",function(){clearTimeout(E)
var e=this
E=setTimeout(function(){e.classList.remove("bingc-passive-date-selection-select-minutes-hover")},100)})
for(var D=e.getElementById("bingc-passive-date-selection-select-day").getElementsByTagName("li"),g=0;g<D.length;g++)D[g].addEventListener("click",function(t){var i=this.value
e.getElementById("bingc-passive-date-selection-selected-day-index").value=i,e.getElementById("bingc-passive-date-selection-selected-day").textContent=this.textContent,e.getElementById("bingc-passive-date-selection-select-day").classList.remove("bingc-passive-date-selection-select-day-hover"),e.getElementById("bingc-passive-date-selection-selected-hour").textContent=n.workingDays[i].workingHoursOrderedList[0]
var s=e.getElementById("bingc-passive-date-selection-select-hour-list-of-hours-container"),o=Object.keys(n.workingDays[i].workingHours).length
if(o){s.classList.remove("two-columns"),s.classList.remove("three-columns"),o>=10&&o<=18?s.classList.add("two-columns"):o>=19&&s.classList.add("three-columns")
for(var a='<ul class="bingc-passive-date-selection-select-hour-list-of-hours '+(o<10?"only-one-column":"")+'">',l=0;l<n.workingDays[i].workingHoursOrderedList.length;l++)9===l?a+='</ul><ul class="bingc-passive-date-selection-select-hour-list-of-hours second-column">':18===l&&(a+='</ul><ul class="bingc-passive-date-selection-select-hour-list-of-hours third-column">'),a+="<li>"+n.workingDays[i].workingHoursOrderedList[l]+"</li>"
a+="</ul>",s.innerHTML=a
var c=n.workingDays[i].workingHours[n.workingDays[i].workingHoursOrderedList[0]]
e.getElementById("bingc-passive-date-selection-selected-minutes").textContent=c[0]
var r='<ul class="bingc-passive-date-selection-select-minutes-list-of-minutes">'
if(c)for(var l=0;l<c.length;l++)r+="<li>"+c[l]+"</li>"
r+="</ul>",e.getElementById("bingc-passive-date-selection-select-minutes-list-of-minutes-container").innerHTML=r
for(var d=e.getElementById("bingc-passive-date-selection-select-minutes").getElementsByTagName("li"),l=0;l<d.length;l++)d[l].addEventListener("click",function(t){e.getElementById("bingc-passive-date-selection-selected-minutes").textContent=this.textContent,e.getElementById("bingc-passive-date-selection-select-minutes").classList.remove("bingc-passive-date-selection-select-minutes-hover")})
n.helpers.passiveFormOfflineDynamicBindings()}})
n.helpers.passiveFormOfflineDynamicBindings(),e.getElementById("bingc-passive-phone-form-button").addEventListener("click",function(i){var o=e.getElementById("bingc-passive-get-phone-form-input").value
if(o=o.toString().replace(/\D/g,""),n.helpers.isCorrectExternalNumber(o)){e.getElementById("bingc-passive-get-phone-form-input").classList.remove("warning")
var l,c
try{l=t.BinotelInformationAboutTheVisitor.getSessionData(),c=t.BinotelInformationAboutTheVisitor.getGoogleAnalyticsData()}catch(e){}s({type:"POST",url:a.backendHost+"/getcall/call/",data:{widgetID:a.widgetId,externalNumber:o,scheduledCall:1,addingDays:n.workingDays[e.getElementById("bingc-passive-date-selection-selected-day-index").value].addingDays,scheduledAtHour:parseInt(e.getElementById("bingc-passive-date-selection-selected-hour").textContent,10),scheduledAtMinutes:parseInt(e.getElementById("bingc-passive-date-selection-selected-minutes").textContent,10),sessionId:a.sessionId,sessionData:l,description:e.getElementById("bingc-passive-get-phone-form-description").value,googleAnalyticsData:c},dataType:"json"},function(t){t&&"success"===t.status?(n.helpers.sendEventToGa("Call requested","Passive form"),n.activityData.callWasMade=1,e.getElementById("bingc-passive-content").innerHTML=' \t\t\t\t\t\t\t\t\t<div class="bingc-we-will-call-you-later">'+n.helpers.i18n("Заказ звонка принят.")+'<br><span class="small-text">'+n.helpers.i18n("В указанное время мы с Вами свяжемся!")+"</span></div> \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  "):e.getElementById("bingc-passive-content").innerHTML=' \t\t\t\t\t\t\t\t\t<div class="bingc-something-went-wrong">'+n.helpers.i18n("К сожалению, что-то пошло не так.<br>Пожалуйста, обновите страницу.")+"</div> \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  "},function(t,i){console.log(i,t),e.getElementById("bingc-passive-content").innerHTML=' \t\t\t\t\t\t\t\t<div class="bingc-something-went-wrong">'+n.helpers.i18n("К сожалению, что-то пошло не так.<br>Пожалуйста, обновите страницу.")+"</div> \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  "})}else e.getElementById("bingc-passive-get-phone-form-input").classList.add("warning"),e.getElementById("bingc-passive-get-phone-form-input").focus()})}n.helpers.addBlurToWholePage(),e.getElementById("bingc-passive").classList.remove("bingc-passive-closed"),e.getElementById("bingc-phone-button").classList.add("bingc-hide"),e.getElementById("bingc-passive-get-phone-form-input").focus(),e.getElementById("bingc-passive-get-phone-form").addEventListener("submit",function(t){t.preventDefault(),e.getElementById("bingc-passive-phone-form-button").click()})},n.helpers.passiveFormOfflineDynamicBindings=function(){for(var t=e.getElementById("bingc-passive-date-selection-selected-day-index").value,i=e.getElementById("bingc-passive-date-selection-select-hour").getElementsByTagName("li"),s=0;s<i.length;s++)i[s].addEventListener("click",function(i){if(e.getElementById("bingc-passive-date-selection-selected-hour").textContent=this.textContent,e.getElementById("bingc-passive-date-selection-select-hour").classList.remove("bingc-passive-date-selection-select-hour-hover"),n.workingDays[t].workingHours[this.textContent]){var s=n.workingDays[t].workingHours[this.textContent]
e.getElementById("bingc-passive-date-selection-selected-minutes").textContent=s[0]
var o='<ul class="bingc-passive-date-selection-select-minutes-list-of-minutes">'
if(s)for(var a=0;a<s.length;a++)o+="<li>"+s[a]+"</li>"
o+="</ul>",e.getElementById("bingc-passive-date-selection-select-minutes-list-of-minutes-container").innerHTML=o
for(var l=e.getElementById("bingc-passive-date-selection-select-minutes").getElementsByTagName("li"),a=0;a<l.length;a++)l[a].addEventListener("click",function(t){e.getElementById("bingc-passive-date-selection-selected-minutes").textContent=this.textContent,e.getElementById("bingc-passive-date-selection-select-minutes").classList.remove("bingc-passive-date-selection-select-minutes-hover")})}})
for(var i=e.getElementById("bingc-passive-date-selection-select-minutes").getElementsByTagName("li"),s=0;s<i.length;s++)i[s].addEventListener("click",function(t){e.getElementById("bingc-passive-date-selection-selected-minutes").textContent=this.textContent,e.getElementById("bingc-passive-date-selection-select-minutes").classList.remove("bingc-passive-date-selection-select-minutes-hover")})},n.helpers.activeFormOfflineDynamicBindings=function(){for(var t=e.getElementById("bingc-active-date-selection-selected-day-index").value,i=e.getElementById("bingc-active-date-selection-select-hour").getElementsByTagName("li"),s=0;s<i.length;s++)i[s].addEventListener("click",function(i){if(e.getElementById("bingc-active-date-selection-selected-hour").textContent=this.textContent,e.getElementById("bingc-active-date-selection-select-hour").classList.remove("bingc-active-date-selection-select-hour-hover"),n.workingDays[t].workingHours[this.textContent]){var s=n.workingDays[t].workingHours[this.textContent]
e.getElementById("bingc-active-date-selection-selected-minutes").textContent=s[0]
var o='<ul class="bingc-active-date-selection-select-minutes-list-of-minutes">'
if(s)for(var a=0;a<s.length;a++)o+="<li>"+s[a]+"</li>"
o+="</ul>",e.getElementById("bingc-active-date-selection-select-minutes-list-of-minutes-container").innerHTML=o
for(var l=e.getElementById("bingc-active-date-selection-select-minutes").getElementsByTagName("li"),a=0;a<l.length;a++)l[a].addEventListener("click",function(t){e.getElementById("bingc-active-date-selection-selected-minutes").textContent=this.textContent,e.getElementById("bingc-active-date-selection-select-minutes").classList.remove("bingc-active-date-selection-select-minutes-hover")})}})
for(var i=e.getElementById("bingc-active-date-selection-select-minutes").getElementsByTagName("li"),s=0;s<i.length;s++)i[s].addEventListener("click",function(t){e.getElementById("bingc-active-date-selection-selected-minutes").textContent=this.textContent,e.getElementById("bingc-active-date-selection-select-minutes").classList.remove("bingc-active-date-selection-select-minutes-hover")})},n.helpers.closePassiveForm=function(){clearInterval(n.countdownTimerIntervalLink),n.helpers.deleteBlurFromWholePage(),e.getElementById("bingc-passive").classList.add("bingc-passive-closed"),e.getElementById("bingc-phone-button").classList.remove("bingc-hide")},n.helpers.isOpenedPassiveForm=function(){var t=e.getElementById("bingc-passive")
return!(!t||0!=t.classList.contains("bingc-passive-closed"))},n.helpers.openActiveForm=function(){var i=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth
if(i<=979)return!1
var o={1:n.helpers.i18n("в понедельник"),2:n.helpers.i18n("во вторник"),3:n.helpers.i18n("в среду"),4:n.helpers.i18n("в четверг"),5:n.helpers.i18n("в пятницу"),6:n.helpers.i18n("в субботу"),0:n.helpers.i18n("в воскресенье")},l=n.helpers.getModeOfWorkingHours()
if("alwaysOnline"===l){var c=' \t\t\t\t\t<div class="bingc-we-will-call-you">'+sprintf(n.helpers.i18n("Хотите, перезвоним Вам<br><span>за %s секунд?</span>"),a.countdownTimerForCall)+'</div> \t\t\t\t\t<div class="bingc-active-get-phone-form"> \t\t\t\t\t\t<form id="bingc-active-get-phone-form" class="bingc-active-get-phone-form"> \t\t\t\t\t\t\t<div class="bingc-active-get-phone-form-input-border"></div> \t\t\t\t\t\t\t<input type="tel" id="bingc-active-get-phone-form-input" class="bingc-active-get-phone-form-input" placeholder="'+n.helpers.i18n("Ваш номер телефона")+'" value="'+a.externalNumberInputValue+'" autocomplete="off" onfocus="this.value = this.value;"><a href="javascript:void(0);" id="bingc-active-phone-form-button" class="bingc-active-phone-form-button">'+n.helpers.i18n("Перезвоните")+'</a><span class="bingc-sample-countdown-timer"><span>00:</span>'+(a.countdownTimerForCall-1)+'<span>:99</span></span> \t\t\t\t\t\t</form> \t\t\t\t\t</div> \t\t\t\t\t<div id="bingc-phone-sample" class="bingc-phone-sample"><span>'+n.helpers.i18n("Например:")+" "+a.externalNumberExample+"</span></div> \t\t\t\t\t\t\t\t\t\t\t "
1===a.statisticsDisplay&&(c+=' \t\t\t\t\t<div class="bingc-statistics">'+n.helpers.i18n("Свободных операторов на линии:")+" "+a.freeEmployees+" &nbsp; &nbsp;&nbsp; "+n.helpers.i18n("Заказов звонков сегодня:")+" "+a.callsProcessedToday+"</div> \t\t\t\t\t\t\t\t\t\t\t  "),e.getElementById("bingc-active-content").innerHTML=c,e.getElementById("bingc-active-phone-form-button").addEventListener("click",function(i){var o=e.getElementById("bingc-active-get-phone-form-input").value
if(o=o.toString().replace(/\D/g,""),n.helpers.isCorrectExternalNumber(o)){e.getElementById("bingc-active-get-phone-form-input").classList.remove("warning")
var l,c
try{l=t.BinotelInformationAboutTheVisitor.getSessionData(),c=t.BinotelInformationAboutTheVisitor.getGoogleAnalyticsData()}catch(e){}s({type:"POST",url:a.backendHost+"/getcall/call/",data:{widgetID:a.widgetId,externalNumber:o,sessionId:a.sessionId,sessionData:l,googleAnalyticsData:c},dataType:"json"},function(t){t&&"success"===t.status?(n.helpers.sendEventToGa("Call requested","Active form"),n.activityData.callWasMade=1,e.getElementById("bingc-active-content").innerHTML=' \t\t\t\t\t\t\t\t\t<div class="bingc-we-already-call-you">'+n.helpers.i18n("Заказ звонка принят. Мы Вам уже звоним!")+'</div> \t\t\t\t\t\t\t\t\t<div id="bingc-active-countdown-timer" class="bingc-active-countdown-timer">00:'+(a.countdownTimerForCall-1)+":99</div> \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  ",setTimeout(function(){var t,i,s,o=100*(a.countdownTimerForCall-1)+99
n.countdownTimerIntervalLink=setInterval(function(){o-=1,t=o.toString(),i=Math.floor(o/100),i<10&&(i="0"+i),s=t.slice(-2),s.length<2&&(s="0"+s),e.getElementById("bingc-active-countdown-timer").innerHTML="00:"+i+":"+s,0==o&&clearInterval(n.countdownTimerIntervalLink)},10)},100)):e.getElementById("bingc-active-content").innerHTML=' \t\t\t\t\t\t\t\t\t<div class="bingc-something-went-wrong">'+n.helpers.i18n("К сожалению, что-то пошло не так.<br>Пожалуйста, обновите страницу.")+"</div> \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  "},function(t,i){console.log(i,t),e.getElementById("bingc-active-content").innerHTML=' \t\t\t\t\t\t\t\t<div class="bingc-something-went-wrong">'+n.helpers.i18n("К сожалению, что-то пошло не так.<br>Пожалуйста, обновите страницу.")+"</div> \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  "})}else e.getElementById("bingc-active-get-phone-form-input").classList.add("warning"),e.getElementById("bingc-active-get-phone-form-input").focus()})}else if("alwaysOffline"===l){n.workingDays=[]
for(var d=0;d<=9;d++){for(var g={},p=0;p<=23;p++)for(var u=0;u<=45;u+=15){var v=new Date(1e3*(Math.floor(Date.now()/1e3)+a.clientSideTimeOffset)),m=new Date(1e3*(Math.floor(Date.now()/1e3)+a.clientSideTimeOffset))
if(m.setHours(p),m.setMinutes(u),m.setSeconds(0),m.setDate(v.getDate()+d),!(0===d&&v.getHours()>=p)&&r.checkingTimeOnTimeline(a.rulesOfWorkingHours,Math.floor(m.getTime()/1e3))===!0){if("undefined"==typeof g.dayName){var h
h=0===d?n.helpers.i18n("сегодня"):1===d?n.helpers.i18n("завтра"):o[m.getDay()],g={dayName:h,workingHoursOrderedList:[],workingHours:{},addingDays:d}}var b=m.getHours().toString().length<=1?"0"+m.getHours():m.getHours().toString()
"undefined"==typeof g.workingHours[b]&&(g.workingHours[b]=[],g.workingHoursOrderedList.push(b)),g.workingHours[b].push(0==m.getMinutes()?"00":m.getMinutes())}}if("undefined"!=typeof g.dayName&&(n.workingDays.push(g),3===n.workingDays.length))break}var f="",y="",w=""
if(n.workingDays.length){f='<div id="bingc-active-date-selection-select-day" class="bingc-active-date-selection-select-day"><svg class="bingc-active-date-selection-arrows" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="10px" height="14px" viewBox="0 0 10 14" enable-background="new 0 0 10 14" xml:space="preserve"><path fill-rule="evenodd" clip-rule="evenodd" d="M0,4.995L4.995,0L9.99,4.995"/></svg><span id="bingc-active-date-selection-selected-day" class="bingc-active-date-selection-selected-day">'+n.workingDays[0].dayName+'</span><input type="hidden" id="bingc-active-date-selection-selected-day-index" value="0"><div id="bingc-active-date-selection-select-day-list-of-days-container" class="bingc-active-date-selection-select-day-list-of-days-container"><ul id="bingc-active-date-selection-select-day-list-of-days" class="bingc-active-date-selection-select-day-list-of-days">'
for(var d=0;d<n.workingDays.length;d++)f+='<li value="'+d+'">'+n.workingDays[d].dayName+"</li>"
f+="</ul></div></div>"
var x=Object.keys(n.workingDays[0].workingHours).length
if(y='<div id="bingc-active-date-selection-select-hour" class="bingc-active-date-selection-select-hour"><span id="bingc-active-date-selection-selected-hour" class="bingc-active-date-selection-selected-hour">'+n.workingDays[0].workingHoursOrderedList[0]+'</span><svg class="bingc-active-date-selection-arrows" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="10px" height="14px" viewBox="0 0 10 14" enable-background="new 0 0 10 14" xml:space="preserve"><path fill-rule="evenodd" clip-rule="evenodd" d="M9.99,8.905L4.995,13.9L0,8.905"/><path fill-rule="evenodd" clip-rule="evenodd" d="M0,4.995L4.995,0L9.99,4.995"/></svg><div id="bingc-active-date-selection-select-hour-list-of-hours-container" class="bingc-active-date-selection-select-hour-list-of-hours-container '+(x>=10&&x<=18?"two-columns":x>=19?"three-columns":"")+'"><ul class="bingc-active-date-selection-select-hour-list-of-hours '+(x<10?"only-one-column":"")+'">',x)for(var d=0;d<n.workingDays[0].workingHoursOrderedList.length;d++)9===d?y+='</ul><ul class="bingc-active-date-selection-select-hour-list-of-hours second-column">':18===d&&(y+='</ul><ul class="bingc-active-date-selection-select-hour-list-of-hours third-column">'),y+="<li>"+n.workingDays[0].workingHoursOrderedList[d]+"</li>"
if(y+="</ul></div></div>",x&&n.workingDays[0].workingHours[n.workingDays[0].workingHoursOrderedList[0]]){var B=n.workingDays[0].workingHours[n.workingDays[0].workingHoursOrderedList[0]]
w='<div id="bingc-active-date-selection-select-minutes" class="bingc-active-date-selection-select-minutes"><span id="bingc-active-date-selection-selected-minutes" class="bingc-active-date-selection-selected-minutes">'+B[0]+'</span><svg class="bingc-active-date-selection-arrows" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="10px" height="14px" viewBox="0 0 10 14" enable-background="new 0 0 10 14" xml:space="preserve"><path fill-rule="evenodd" clip-rule="evenodd" d="M9.99,8.905L4.995,13.9L0,8.905"/><path fill-rule="evenodd" clip-rule="evenodd" d="M0,4.995L4.995,0L9.99,4.995"/></svg><div id="bingc-active-date-selection-select-minutes-list-of-minutes-container" class="bingc-active-date-selection-select-minutes-list-of-minutes-container"><ul class="bingc-active-date-selection-select-minutes-list-of-minutes">'
for(var d=0;d<B.length;d++)w+="<li>"+B[d]+"</li>"
w+="</ul></div></div>"}}e.getElementById("bingc-active-content").innerHTML=' \t\t\t\t\t<div class="bingc-we-will-call-you bingc-offline-form">'+sprintf(n.helpers.i18n("Хотите, перезвоним Вам<br>%s точно в:"),f)+'</div> \t\t\t\t\t<div class="bingc-active-get-phone-form bingc-offline-form"> \t\t\t\t\t\t<form id="bingc-active-get-phone-form" class="bingc-active-get-phone-form"> \t\t\t\t\t\t\t<div class="bingc-active-get-phone-form-date-selection"> \t\t\t\t\t\t\t\t '+y+" \t\t\t\t\t\t\t\t"+w+' \t\t\t\t\t\t\t</div> \t\t\t\t\t\t\t<div class="bingc-active-get-phone-form-input-border bingc-offline-form"></div> \t\t\t\t\t\t\t<input type="tel" id="bingc-active-get-phone-form-input" class="bingc-active-get-phone-form-input" placeholder="'+n.helpers.i18n("Ваш номер телефона")+'" value="'+a.externalNumberInputValue+'" autocomplete="off" onfocus="this.value = this.value;"><a href="javascript:void(0);" id="bingc-active-phone-form-button" class="bingc-active-phone-form-button">'+n.helpers.i18n("Жду звонка")+'</a> \t\t\t\t\t\t</form> \t\t\t\t\t</div> \t\t\t\t\t<div id="bingc-phone-sample" class="bingc-phone-sample"><span>'+n.helpers.i18n("Например:")+" "+a.externalNumberExample+"</span></div> \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  "
var k
e.getElementById("bingc-active-date-selection-select-day").addEventListener("mouseenter",function(){clearTimeout(k),this.classList.add("bingc-active-date-selection-select-day-hover")}),e.getElementById("bingc-active-date-selection-select-day").addEventListener("mouseleave",function(){clearTimeout(k)
var e=this
k=setTimeout(function(){e.classList.remove("bingc-active-date-selection-select-day-hover")},100)})
var T
e.getElementById("bingc-active-date-selection-select-hour").addEventListener("mouseenter",function(){clearTimeout(T),this.classList.add("bingc-active-date-selection-select-hour-hover")}),e.getElementById("bingc-active-date-selection-select-hour").addEventListener("mouseleave",function(){clearTimeout(T)
var e=this
T=setTimeout(function(){e.classList.remove("bingc-active-date-selection-select-hour-hover")},100)})
var I
e.getElementById("bingc-active-date-selection-select-minutes").addEventListener("mouseenter",function(){clearTimeout(I),this.classList.add("bingc-active-date-selection-select-minutes-hover")}),e.getElementById("bingc-active-date-selection-select-minutes").addEventListener("mouseleave",function(){clearTimeout(I)
var e=this
I=setTimeout(function(){e.classList.remove("bingc-active-date-selection-select-minutes-hover")},100)})
for(var E=e.getElementById("bingc-active-date-selection-select-day").getElementsByTagName("li"),d=0;d<E.length;d++)E[d].addEventListener("click",function(t){var i=this.value
e.getElementById("bingc-active-date-selection-selected-day-index").value=i,e.getElementById("bingc-active-date-selection-selected-day").textContent=this.textContent,e.getElementById("bingc-active-date-selection-select-day").classList.remove("bingc-active-date-selection-select-day-hover"),e.getElementById("bingc-active-date-selection-selected-hour").textContent=n.workingDays[i].workingHoursOrderedList[0]
var s=e.getElementById("bingc-active-date-selection-select-hour-list-of-hours-container"),o=Object.keys(n.workingDays[i].workingHours).length
if(o){s.classList.remove("two-columns"),s.classList.remove("three-columns"),o>=11&&o<=20?s.classList.add("two-columns"):o>=21&&s.classList.add("three-columns")
for(var a='<ul class="bingc-active-date-selection-select-hour-list-of-hours '+(o<11?"only-one-column":"")+'">',l=0;l<n.workingDays[i].workingHoursOrderedList.length;l++)10===l?a+='</ul><ul class="bingc-active-date-selection-select-hour-list-of-hours second-column">':20===l&&(a+='</ul><ul class="bingc-active-date-selection-select-hour-list-of-hours third-column">'),a+="<li>"+n.workingDays[i].workingHoursOrderedList[l]+"</li>"
a+="</ul>",s.innerHTML=a
var c=n.workingDays[i].workingHours[n.workingDays[i].workingHoursOrderedList[0]]
e.getElementById("bingc-active-date-selection-selected-minutes").textContent=c[0]
var r='<ul class="bingc-active-date-selection-select-minutes-list-of-minutes">'
if(c)for(var l=0;l<c.length;l++)r+="<li>"+c[l]+"</li>"
r+="</ul>",e.getElementById("bingc-active-date-selection-select-minutes-list-of-minutes-container").innerHTML=r
for(var d=e.getElementById("bingc-active-date-selection-select-minutes").getElementsByTagName("li"),l=0;l<d.length;l++)d[l].addEventListener("click",function(t){e.getElementById("bingc-active-date-selection-selected-minutes").textContent=this.textContent,e.getElementById("bingc-active-date-selection-select-minutes").classList.remove("bingc-active-date-selection-select-minutes-hover")})
n.helpers.activeFormOfflineDynamicBindings()}})
n.helpers.activeFormOfflineDynamicBindings(),e.getElementById("bingc-active-phone-form-button").addEventListener("click",function(i){var o=e.getElementById("bingc-active-get-phone-form-input").value
if(o=o.toString().replace(/\D/g,""),n.helpers.isCorrectExternalNumber(o)){e.getElementById("bingc-active-get-phone-form-input").classList.remove("warning")
var l,c
try{l=t.BinotelInformationAboutTheVisitor.getSessionData(),c=t.BinotelInformationAboutTheVisitor.getGoogleAnalyticsData()}catch(e){}s({type:"POST",url:a.backendHost+"/getcall/call/",data:{widgetID:a.widgetId,externalNumber:o,scheduledCall:1,addingDays:n.workingDays[e.getElementById("bingc-active-date-selection-selected-day-index").value].addingDays,scheduledAtHour:parseInt(e.getElementById("bingc-active-date-selection-selected-hour").textContent,10),scheduledAtMinutes:parseInt(e.getElementById("bingc-active-date-selection-selected-minutes").textContent,10),sessionId:a.sessionId,sessionData:l,googleAnalyticsData:c},dataType:"json"},function(t){t&&"success"===t.status?(n.helpers.sendEventToGa("Call requested","Active form"),n.activityData.callWasMade=1,e.getElementById("bingc-active-content").innerHTML=' \t\t\t\t\t\t\t\t\t<div class="bingc-we-will-call-you-later">'+n.helpers.i18n("Заказ звонка принят.")+'<br><span class="small-text">'+n.helpers.i18n("В указанное время мы с Вами свяжемся!")+"</span></div> \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  "):e.getElementById("bingc-active-content").innerHTML=' \t\t\t\t\t\t\t\t\t<div class="bingc-something-went-wrong">'+n.helpers.i18n("К сожалению, что-то пошло не так.<br>Пожалуйста, обновите страницу.")+"</div> \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  "},function(t,i){console.log(i,t),e.getElementById("bingc-active-content").innerHTML=' \t\t\t\t\t\t\t\t<div class="bingc-something-went-wrong">'+n.helpers.i18n("К сожалению, что-то пошло не так.<br>Пожалуйста, обновите страницу.")+"</div> \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  "})}else e.getElementById("bingc-active-get-phone-form-input").classList.add("warning"),e.getElementById("bingc-active-get-phone-form-input").focus()})}e.getElementById("bingc-active").classList.remove("bingc-active-closed"),e.getElementById("bingc-phone-button").classList.add("bingc-hide"),e.getElementById("bingc-active-get-phone-form-input").focus(),e.getElementById("bingc-active-get-phone-form").addEventListener("submit",function(t){t.preventDefault(),e.getElementById("bingc-active-phone-form-button").click()})},n.helpers.closeActiveForm=function(){clearInterval(n.countdownTimerIntervalLink),n.helpers.deleteBlurFromWholePage(),e.getElementById("bingc-active").classList.add("bingc-active-closed"),e.getElementById("bingc-phone-button").classList.remove("bingc-hide")},n.helpers.isOpenedActiveForm=function(){var t=e.getElementById("bingc-active")
return!(!t||0!=t.classList.contains("bingc-active-closed"))},n.helpers.addBlurToWholePage=function(){for(var t=e.getElementsByTagName("body")[0].childNodes,n=0;n<t.length;n++)if(1==t[n].nodeType&&"SCRIPT"!==t[n].nodeName&&"STYLE"!==t[n].nodeName){if("bingc-passive"===t[n].id||"bingc-phone-button"===t[n].id||"bingc-active"===t[n].id)continue
t[n].classList.add("bingc-blur-whole-page")}},n.helpers.deleteBlurFromWholePage=function(){for(var t=e.getElementsByTagName("body")[0].childNodes,n=0;n<t.length;n++)1==t[n].nodeType&&"SCRIPT"!==t[n].nodeName&&"STYLE"!==t[n].nodeName&&t[n].classList.remove("bingc-blur-whole-page")},n.helpers.setClientSideTimeOffset=function(e){s({type:"GET",url:a.backendHost+"/getcall/getTimestamp/",dataType:"json"},function(t){t&&t.timestamp?a.clientSideTimeOffset=t.timestamp-Math.floor(Date.now()/1e3):e!==!0&&setTimeout(function(){n.helpers.setClientSideTimeOffset(!0)},12e4)},function(t,i){console.log(i,t),e!==!0&&setTimeout(function(){n.helpers.setClientSideTimeOffset(!0)},12e4)})},n.helpers.getModeOfWorkingHours=function(){var e=a.modeOfWorkingHours
return"rangeOfWorkingHours"===e&&(e="alwaysOffline",r.checkingTimeOnTimeline(a.rulesOfWorkingHours,Math.floor(Date.now()/1e3)+a.clientSideTimeOffset)===!0&&(e="alwaysOnline")),e},n.helpers.rotatePhoneButton=function(){var t,i=e.getElementById("bingc-phone-button-icon-text"),s=e.getElementById("bingc-phone-button-icon-icon")
i.classList.contains("bingc-phone-button-icon-show")?(i.classList.remove("bingc-phone-button-icon-show"),s.classList.add("bingc-phone-button-icon-show"),t=8):(s.classList.remove("bingc-phone-button-icon-show"),i.classList.add("bingc-phone-button-icon-show"),t=4),clearTimeout(n.timers.rotatePhoneButtonTimer),n.timers.rotatePhoneButtonTimer=setTimeout(n.helpers.rotatePhoneButton,1e3*t)},n.helpers.showPhoneButtonTooltip=function(){var t=e.getElementById("bingc-phone-button-tooltip")
t&&(t.classList.add("bingc-phone-button-tooltip-show-first"),setTimeout(function(){t.classList.add("bingc-phone-button-tooltip-show-second")},50))},n.helpers.hidePhoneButtonTooltip=function(){var t=e.getElementById("bingc-phone-button-tooltip")
t&&(t.classList.remove("bingc-phone-button-tooltip-show-second"),setTimeout(function(){t.classList.contains("bingc-phone-button-tooltip-show-second")===!1&&t.classList.remove("bingc-phone-button-tooltip-show-first")},1e3))},n.helpers.isCorrectExternalNumber=function(e){if(""===e||e===a.externalNumberExample||e.length<a.externalNumberMinLength||e.length>a.externalNumberMaxLength)return!1
for(var t={},n=0,i=0;i<10;i++)t[e[i]]||(t[e[i]]=e[i],n++)
return!(n<=2)},n.helpers.i18n=function(e){var t=a.language
return a.customI18nDictionary&&a.customI18nDictionary[e]?a.customI18nDictionary[e]:a.i18nDictionary[t]&&a.i18nDictionary[t][e]?a.i18nDictionary[t][e]:("ru"!==a.language&&console.log("[%s] %s",a.language,e),e)},n.helpers.sendEventToGa=function(e,t,n,i){if(t=t||void 0,n=n?parseInt(n):void 0,i=i===!0,"object"==typeof _gaq)try{_gaq.push(["_trackEvent","Binotel GetCall",e,t,n,i])}catch(e){}else if("function"==typeof ga)try{window.ga("send","event","Binotel GetCall",e,t,n,{nonInteraction:i})}catch(e){}},this},r=function(){return{checkingTimeOnTimeline:function(e,t){"undefined"==typeof t&&(t=Math.floor(Date.now()/1e3))
var n=new Date(1e3*t),i=n.getHours(),s=n.getMinutes(),o=n.getDay(),a=n.getDate(),l=n.getMonth()+1
for(var c in e){var r
try{r=e[c].split(",")}catch(e){}if(!("object"!=typeof r||r.length<4)){var d="undefined"!=typeof r[0]?r[0]:null,g="undefined"!=typeof r[1]?r[1]:null,p="undefined"!=typeof r[2]?r[2]:null,u="undefined"!=typeof r[3]?r[3]:null
if(null===d||null===g||null===p||null===u)break
if("*"!==d)var v=d.split("-"),m="object"==typeof v&&2===v.length?v[0].split(":"):["0","0"],h="object"==typeof v&&2===v.length?v[1].split(":"):["0","0"],b="object"==typeof m&&2===m.length?Math.round(m[0]):"0",f="object"==typeof m&&2===m.length?Math.round(m[1]):"0",y="object"==typeof h&&2===h.length?Math.round(h[0]):"0",w="object"==typeof h&&2===h.length?Math.round(h[1]):"0"
if("*"!==g){var x={},B={mon:1,tue:2,wed:3,thu:4,fri:5,sat:6,sun:7}
if(g.indexOf("-")===-1)"undefined"!=typeof B[g]&&(x[B[g]]=B[g])
else for(var k=g.split("-"),T="object"==typeof k&&2===k.length&&"undefined"!=typeof B[k[0]]?B[k[0]]:0,I="object"==typeof k&&2===k.length&&"undefined"!=typeof B[k[1]]?B[k[1]]:0,E=T;E<=I;E++)x[E]=E}if("*"!==p){var D=p.split("-")
startDayOfMonth="object"==typeof D&&2===D.length?D[0]:0,stopDayOfManth="object"==typeof D&&2===D.length?D[1]:0}if("*"!==u){var L={},H={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12}
if(u.indexOf("-")===-1)"undefined"!=typeof H[u]&&(L[H[u]]=H[u])
else for(var O=u.split("-"),_="object"==typeof O&&2===O.length&&"undefined"!=typeof H[O[0]]?H[O[0]]:0,M="object"==typeof O&&2===O.length&&"undefined"!=typeof H[O[1]]?H[O[1]]:0,E=_;E<=M;E++)L[E]=E}if(0===o&&(o=7),("*"===d||(b==i&&f<=s||b<i)&&(y==i&&w>=s||y>i))&&("*"===g||"undefined"!=typeof x[o])&&("*"===p||startDayOfMonth<=a&&stopDayOfManth>=a)&&("*"===u||"undefined"!=typeof L[l]))return!0}}return!1}}}()
Date.now||(Date.now=function(){return(new Date).getTime()}),function(e){var t={},n={},s=n.toString,o=/%20/g,a=/\[\]$/
e.binotelJqMini=t,t.type=function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[s.call(e)]||"object":typeof e},t.isFunction=function(e){return"function"===t.type(e)},t.buildParams=function(e,n,s){var o,l,c
if(Array.isArray(n))for(var l in n)c=n[l],a.test(e)?s(e,c):t.buildParams(e+"["+("object"==typeof v?i:"")+"]",c,s)
else if("object"===t.type(n))for(o in n)t.buildParams(e+"["+o+"]",n[o],s)
else s(e,n)},t.param=function(e){var n,i,s
if(serialized=[],add=function(e,n){n=t.isFunction(n)?n():null==n?"":n,serialized[serialized.length]=encodeURIComponent(e)+"="+encodeURIComponent(n)},Array.isArray(e))for(i in e)s=e[i],add(i,s)
else for(n in e)t.buildParams(n,e[n],add)
return serialized.join("&").replace(o,"+")}}(window)}(document,window,"script")
