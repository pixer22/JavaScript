/* jshint multistr: true */
!function(e){if("function"==typeof define&&define.amd,1)if("object"==typeof exports,1){var t=window.bgcCookies,a=window.bgcCookies=e()
a.noConflict=function(){return window.bgcCookies=t,a}}else module.exports=e()
else define(e)}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var a=arguments[e]
for(var o in a)t[o]=a[o]}return t}function t(a){function o(t,n,s){var i
if("undefined"!=typeof document){if(arguments.length>1){if(s=e({path:"/"},o.defaults,s),"number"==typeof s.expires){var r=new Date
r.setMilliseconds(r.getMilliseconds()+864e5*s.expires),s.expires=r}try{i=JSON.stringify(n),/^[\{\[]/.test(i)&&(n=i)}catch(c){}return n=a.write?a.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape),document.cookie=[t,"=",n,s.expires?"; expires="+s.expires.toUTCString():"",s.path?"; path="+s.path:"",s.domain?"; domain="+s.domain:"",s.secure?"; secure":""].join("")}t||(i={})
for(var l=document.cookie?document.cookie.split("; "):[],u=/(%[0-9A-Z]{2})+/g,g=0;g<l.length;g++){var m=l[g].split("="),D=m.slice(1).join("=")
'"'===D.charAt(0)&&(D=D.slice(1,-1))
try{var p=m[0].replace(u,decodeURIComponent)
if(D=a.read?a.read(D,p):a(D,p)||D.replace(u,decodeURIComponent),this.json)try{D=JSON.parse(D)}catch(c){}if(t===p){i=D
break}t||(i[p]=D)}catch(c){}}return i}}return o.set=o,o.get=function(e){return o(e)},o.getJSON=function(){return o.apply({json:!0},[].slice.call(arguments))},o.defaults={},o.remove=function(t,a){o(t,"",e(a,{expires:-1}))},o.withConverter=t,o}return t(function(){})}),function(e,t,a){if(!t.BinotelInformationAboutTheVisitor){t.BinotelInformationAboutTheVisitor={gaTrackerIndex:0,debugMode:0,cookieName:"biatv-cookie",errorMessage:""}
var o=[{name:"google",regexp:/^www.google/,query:"q"},{name:"yandex",regexp:/yandex.(ua|ru|kz|by|com|tr)$/,query:"text"},{name:"go.mail.ru",regexp:/^go.mail.ru$/,query:"q"},{name:"bing",regexp:/^www.bing/,query:"q"},{name:"yahoo",regexp:/^search.yahoo/,query:"p"},{name:"ask",regexp:/ask.com$/,query:"q"},{name:"rambler",regexp:/rambler.ru$/,query:"query"},{name:"ukr.net",regexp:/^search.ukr.net$/,query:"search_query"},{name:"ukr.net",regexp:/^search.ukr.net$/,query:"search_query"},{name:"meta.ua",regexp:/^search.meta.ua$/,query:"q"},{name:"i.ua",regexp:/^search.i.ua$/,query:"q"},{name:"all.by",regexp:/^all.by$/,query:"query"},{name:"search.tut.by",regexp:/^search.tut.by$/,query:"query"}],n=t.BinotelInformationAboutTheVisitor
n.debugMode&&console.log("Binotel information about the visitor in processing.")
var s
setTimeout(function(){s=new i,s.init(),n.getSessionData=s.getSessionData,n.getGoogleAnalyticsData=s.getGoogleAnalyticsData,n.getGoogleAnalyticsDataViaCallback=s.getGoogleAnalyticsDataViaCallback},100)
var i=function(){var a={helpers:{},cookies:t.bgcCookies.noConflict(),googleAnalytics:{inProcessing:!0,data:{trackingId:"",clientId:""},listOfCallbacks:[]},timers:{initGoogleAnalyticsData:null}}
return this.init=function(){a.helpers.initSessionData(),a.helpers.initGoogleAnalyticsData()},this.getSessionData=function(){return a.helpers.getSessionData()},this.getGoogleAnalyticsData=function(){return a.helpers.getGoogleAnalyticsData()},this.getGoogleAnalyticsDataViaCallback=function(e){return a.helpers.getGoogleAnalyticsDataViaCallback(e)},a.helpers.initSessionData=function(){n.debugMode&&console.log("[%s] %s",Date(),"Run self.helpers.initSessionData"),a.sessionData=a.cookies.getJSON(n.cookieName),a.sessionData||(a.sessionData={sessionTimeFirst:Math.floor(Date.now()/1e3),campaignCount:0}),a.sessionData.location=t.location.href,a.sessionData.language=(t.navigator.languages?t.navigator.languages[0]:t.navigator.language||t.navigator.browserLanguage||t.navigator.userLanguage).toLowerCase(),a.sessionData.encoding=(e.characterSet||e.charset).toLowerCase(),a.sessionData.screenResolution=t.screen.width+"x"+t.screen.height,a.sessionData.sessionTimeCurrent=Math.floor(Date.now()/1e3)
var s=a.helpers.parseQueryString(t.location.search),i=a.helpers.parseReferrer(e.referrer),r=a.helpers.parseQueryString(i.search)
if(s.gclid&&!s.utm_source)a.sessionData.utmData={},a.sessionData.utmData.utm_source="google",a.sessionData.utmData.utm_medium="cpc",a.sessionData.utmData.utm_campaign="(not set)",a.sessionData.utmData.utm_content="(not set)",a.sessionData.utmData.utm_term="(not set)",a.sessionData.campaignTime=Math.floor(Date.now()/1e3),a.sessionData.campaignCount++
else if(s.utm_source)a.sessionData.utmData={},a.sessionData.utmData.utm_source=s.utm_source,a.sessionData.utmData.utm_medium=s.utm_medium||"(not set)",a.sessionData.utmData.utm_campaign=s.utm_campaign||"(not set)",a.sessionData.utmData.utm_content=s.utm_content||"(not set)",a.sessionData.utmData.utm_term=s.utm_term||"(not set)",a.sessionData.campaignTime=Math.floor(Date.now()/1e3),a.sessionData.campaignCount++
else if(i.hostname&&i.hostname!==t.location.hostname){a.sessionData.utmData=void 0
for(var c=0;c<o.length;c++)if(o[c].regexp.test(i.hostname)){a.sessionData.utmData={},a.sessionData.utmData.utm_source=o[c].name,a.sessionData.utmData.utm_medium="organic",a.sessionData.utmData.utm_campaign="(not set)",a.sessionData.utmData.utm_content="(not set)",a.sessionData.utmData.utm_term="https:"===i.protocol?"(not provided)":r[o[c].query]||"(not set)",a.sessionData.campaignTime=Math.floor(Date.now()/1e3),a.sessionData.campaignCount++
break}!a.sessionData.utmData,a.sessionData.utmData||(a.sessionData.utmData={},a.sessionData.utmData.utm_source=i.hostname,a.sessionData.utmData.utm_medium="referral",a.sessionData.utmData.utm_campaign="(referral)",a.sessionData.utmData.utm_content=i.pathname,a.sessionData.utmData.utm_term="(not set)",a.sessionData.campaignTime=Math.floor(Date.now()/1e3),a.sessionData.campaignCount++)}else a.sessionData.utmData||(a.sessionData.utmData={},a.sessionData.utmData.utm_source="(direct)",a.sessionData.utmData.utm_medium="(none)",a.sessionData.utmData.utm_campaign="(direct)",a.sessionData.utmData.utm_content="(not set)",a.sessionData.utmData.utm_term="(not set)",a.sessionData.campaignTime=Math.floor(Date.now()/1e3),a.sessionData.campaignCount++)
a.cookies.set(n.cookieName,a.sessionData,{expires:730,domain:n.cookieDomain||""})},a.helpers.initGoogleAnalyticsData=function(e){return clearTimeout(a.timers.initGoogleAnalyticsData),n.debugMode&&console.log("[%s] %s",Date(),"Run self.helpers.initGoogleAnalyticsData"),e=e||0,e>=101?(n.debugMode&&(n.errorMessage="Can't find GA",console.log("[%s] %s",Date(),n.errorMessage)),a.googleAnalytics.inProcessing=!1,a.helpers.sendGoogleAnalyticsDataViaCallback(),!1):void("undefined"==typeof ga||"function"!=typeof ga?a.timers.initGoogleAnalyticsData=setTimeout(function(){a.helpers.initGoogleAnalyticsData(++e)},100>e?200:1e3):ga(function(){a.googleAnalytics.data.trackingId=ga.getAll()[n.gaTrackerIndex].get("trackingId"),a.googleAnalytics.data.clientId=ga.getAll()[n.gaTrackerIndex].get("clientId"),a.helpers.sendGoogleAnalyticsDataViaCallback()}))},a.helpers.getSessionData=function(){return a.sessionData},a.helpers.getGoogleAnalyticsData=function(){return a.googleAnalytics.data},a.helpers.getGoogleAnalyticsDataViaCallback=function(e){a.googleAnalytics.inProcessing===!1?e(a.helpers.getGoogleAnalyticsData()):a.googleAnalytics.listOfCallbacks.push(e)},a.helpers.sendGoogleAnalyticsDataViaCallback=function(){for(var e=0;e<a.googleAnalytics.listOfCallbacks.length;e++)"function"==typeof a.googleAnalytics.listOfCallbacks[e]&&a.googleAnalytics.listOfCallbacks[e](a.helpers.getGoogleAnalyticsData())
a.googleAnalytics.listOfCallbacks=[]},a.helpers.parseQueryString=function(e){for(var t,a=/[?&]([^=#&]+)=([^&#]*)/g,o={};t=a.exec(e);)try{o[decodeURIComponent(t[1])]=decodeURIComponent(t[2])}catch(n){}return o},a.helpers.parseReferrer=function(e){var t={hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",port:"",protocol:"",search:""}
if(""!==e){var a=document.createElement("a")
a.href=e,t.hash=a.hash,t.host=a.host,t.hostname=a.hostname,t.href=a.href,t.origin=a.origin,t.pathname=a.pathname,t.port=a.port,t.protocol=a.protocol,t.search=a.search}return t},this}
Date.now||(Date.now=function(){return(new Date).getTime()})}}(document,window,"script")
